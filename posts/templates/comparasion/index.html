<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Comparasion</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="../file.js"></script>
    <script src="../overall.js"></script>
    <script src="../controls.js"></script>
    <link rel="stylesheet" type="text/css" href="../overall.css">
</head>
<body>

    <img class="main">
        <div class="config">
            <div><span>Players: </span><input id="player" type="file"></div>
            <div>
                <span>Player 1 Image URL:</span><input id="player1ImageURL"/>
                Top: <input type="range" min="-2000" max="2000" value="50" class="slider" id="imageTop1">
                Left: <input type="range" min="-2000" max="2000" value="50" class="slider" id="imageLeft1">
                Width: <input type="range" min="0" max="2000" value="350" class="slider" id="imageWidth1">
                Height: <input type="range" min="0" max="2000" value="350" class="slider" id="imageHeight1">
            </div>
            <div>
                <span>Player 2 Image URL:</span><input id="player2ImageURL"/>
                Top: <input type="range" min="-2000" max="2000" value="50" class="slider" id="imageTop2">
                Left: <input type="range" min="-2000" max="2000" value="50" class="slider" id="imageLeft2">
                Width: <input type="range" min="0" max="2000" value="350" class="slider" id="imageWidth2">
                Height: <input type="range" min="0" max="2000" value="350" class="slider" id="imageHeight2">
            </div>
            <div>
                <span>Player 3 Image URL:</span><input id="player3ImageURL"/>
                Top: <input type="range" min="-2000" max="2000" value="50" class="slider" id="imageTop3">
                Left: <input type="range" min="-2000" max="2000" value="50" class="slider" id="imageLeft3">
                Width: <input type="range" min="0" max="2000" value="350" class="slider" id="imageWidth3">
                Height: <input type="range" min="0" max="2000" value="350" class="slider" id="imageHeight3">
            </div>
        </div>
        <div class="background-image-1" ></div>
        <div class="background-image-2"></div>
        <div class="background-image-3"></div>
        <div id="imgPost" class="post">
            <img src="../tfs-logo.png" class="tfs-logo">
            <div class="title">
                <img src="https://cdn.steamgriddb.com/logo/1d075e2fdbc8e2e66a47b39a0652ce31.png" class="fifa-logo">
                <div class="player-name-text">FIFA 07 - TOP 3 STs</div>
            </div>
            <div class="chart"></div>
        </div>
    </div>
    <script>
        loadFileContent('#player', data => {
            $('div.chart').empty()
            $.each(data, (index, item) => {
                let bar = ''
                bar += '<div class="player" id="player-' + index + '">'
                bar += '    <div class="team-logo"><img src="' + item['team_image_url'] + '"></div>'
                bar += '    <div class="overall" id="overall-' + index + '">' + item['overall_rating'] + '</div>'
                bar += '    <div class="name">' + item['name'] + '</div>'
                bar += '</div>'

                $('div.chart').append(bar)
                updateOverallColor($('#overall-' + index), item['overall_rating'])
            })

        })
        $('#player1ImageURL').on('change', event => {
            $('.background-image-1').css('background-image', 'url("' + event.target.value + '")')
        })
        $('#player2ImageURL').on('change', event => {
            $('.background-image-2').css('background-image', 'url("' + event.target.value + '")')
        })
        $('#player3ImageURL').on('change', event => {
            $('.background-image-3').css('background-image', 'url("' + event.target.value + '")')
        })
        createImageControls($('.background-image-1'), $('#imageTop1'), $('#imageLeft1'), $('#imageWidth1'), $('#imageHeight1'))
        createImageControls($('.background-image-2'), $('#imageTop2'), $('#imageLeft2'), $('#imageWidth2'), $('#imageHeight2'))
        createImageControls($('.background-image-3'), $('#imageTop3'), $('#imageLeft3'), $('#imageWidth3'), $('#imageHeight3'))

    </script>
</body>
</html>
